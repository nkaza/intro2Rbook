<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Exercise 6: Basic programming in R | An Introduction to R</title>
  <meta name="description" content="A practical introduction to using R for data analysis" />
  <meta name="generator" content="bookdown 0.27 and GitBook 2.6.7" />

  <meta property="og:title" content="Exercise 6: Basic programming in R | An Introduction to R" />
  <meta property="og:type" content="book" />
  <meta property="og:image" content="https://nkaza.github.io/intro2Rbook//images/cover_v4.png" />
  <meta property="og:description" content="A practical introduction to using R for data analysis" />
  <meta name="github-repo" content="nkaza/intro2Rbook" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Exercise 6: Basic programming in R | An Introduction to R" />
  
  <meta name="twitter:description" content="A practical introduction to using R for data analysis" />
  <meta name="twitter:image" content="https://nkaza.github.io/intro2Rbook//images/cover_v4.png" />

<meta name="author" content="Nikhil Kaza" />


<meta name="date" content="2022-08-20" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="exercise-5-graphics-with-ggplot-1.html"/>
<link rel="next" href="exercise-6-basic-programming-in-r-1.html"/>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.1.0/anchor-sections.css" rel="stylesheet" />
<link href="libs/anchor-sections-1.1.0/anchor-sections-hash.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.1.0/anchor-sections.js"></script>
<script src="libs/kePrint-0.0.1/kePrint.js"></script>
<link href="libs/lightable-0.0.1/lightable.css" rel="stylesheet" />
<link href="libs/bsTable-3.3.7/bootstrapTable.min.css" rel="stylesheet" />
<script src="libs/bsTable-3.3.7/bootstrapTable.js"></script>
<!-- Global site tag (gtag.js) - Google Analytics -->
<script async src="https://www.googletagmanager.com/gtag/js?id=UA-162377463-3"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'UA-162377463-3');
</script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">An Introduction R</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="0.1" data-path="the-aim-of-this-book.html"><a href="the-aim-of-this-book.html"><i class="fa fa-check"></i><b>0.1</b> The aim of this book</a></li>
<li class="chapter" data-level="0.2" data-path="who-is-this-book-for.html"><a href="who-is-this-book-for.html"><i class="fa fa-check"></i><b>0.2</b> Who is this book for?</a></li>
<li class="chapter" data-level="0.3" data-path="how-to-use-this-book.html"><a href="how-to-use-this-book.html"><i class="fa fa-check"></i><b>0.3</b> How to use this book</a></li>
<li class="chapter" data-level="0.4" data-path="book-website.html"><a href="book-website.html"><i class="fa fa-check"></i><b>0.4</b> Book website</a></li>
<li class="chapter" data-level="0.5" data-path="some-r-pointers.html"><a href="some-r-pointers.html"><i class="fa fa-check"></i><b>0.5</b> Some R pointers</a></li>
<li class="chapter" data-level="0.6" data-path="license.html"><a href="license.html"><i class="fa fa-check"></i><b>0.6</b> License</a></li>
</ul></li>
<li class="chapter" data-level="1" data-path="chap1.html"><a href="chap1.html"><i class="fa fa-check"></i><b>1</b> Getting started with R and RStudio</a>
<ul>
<li class="chapter" data-level="1.1" data-path="install_r.html"><a href="install_r.html"><i class="fa fa-check"></i><b>1.1</b> Installing R</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="install_r.html"><a href="install_r.html#windows-users"><i class="fa fa-check"></i><b>1.1.1</b> Windows users</a></li>
<li class="chapter" data-level="1.1.2" data-path="install_r.html"><a href="install_r.html#mac-users"><i class="fa fa-check"></i><b>1.1.2</b> Mac users</a></li>
<li class="chapter" data-level="1.1.3" data-path="install_r.html"><a href="install_r.html#linux-users"><i class="fa fa-check"></i><b>1.1.3</b> Linux users</a></li>
<li class="chapter" data-level="1.1.4" data-path="install_r.html"><a href="install_r.html#testing-r"><i class="fa fa-check"></i><b>1.1.4</b> Testing R</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html"><i class="fa fa-check"></i><b>1.2</b> Installing RStudio</a>
<ul>
<li class="chapter" data-level="1.2.1" data-path="installing-rstudio.html"><a href="installing-rstudio.html#windows-and-mac-users"><i class="fa fa-check"></i><b>1.2.1</b> Windows and Mac users</a></li>
<li class="chapter" data-level="1.2.2" data-path="installing-rstudio.html"><a href="installing-rstudio.html#linux-users-1"><i class="fa fa-check"></i><b>1.2.2</b> Linux users</a></li>
<li class="chapter" data-level="1.2.3" data-path="installing-rstudio.html"><a href="installing-rstudio.html#testing-rstudio"><i class="fa fa-check"></i><b>1.2.3</b> Testing RStudio</a></li>
</ul></li>
<li class="chapter" data-level="1.3" data-path="rstudio_orient.html"><a href="rstudio_orient.html"><i class="fa fa-check"></i><b>1.3</b> RStudio orientation</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="rstudio_orient.html"><a href="rstudio_orient.html#cons"><i class="fa fa-check"></i><b>1.3.1</b> Console</a></li>
<li class="chapter" data-level="1.3.2" data-path="rstudio_orient.html"><a href="rstudio_orient.html#environmenthistoryconnections"><i class="fa fa-check"></i><b>1.3.2</b> Environment/History/Connections</a></li>
<li class="chapter" data-level="1.3.3" data-path="rstudio_orient.html"><a href="rstudio_orient.html#filesplotspackageshelpviewer"><i class="fa fa-check"></i><b>1.3.3</b> Files/Plots/Packages/Help/Viewer</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html"><i class="fa fa-check"></i><b>1.4</b> Alternatives to RStudio</a>
<ul>
<li class="chapter" data-level="1.4.1" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html#advanced-text-editors"><i class="fa fa-check"></i><b>1.4.1</b> Advanced text editors</a></li>
<li class="chapter" data-level="1.4.2" data-path="alternatives-to-rstudio.html"><a href="alternatives-to-rstudio.html#integrated-developement-environements"><i class="fa fa-check"></i><b>1.4.2</b> Integrated developement environements</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="packages.html"><a href="packages.html"><i class="fa fa-check"></i><b>1.5</b> R packages</a>
<ul>
<li class="chapter" data-level="1.5.1" data-path="packages.html"><a href="packages.html#cran_packages"><i class="fa fa-check"></i><b>1.5.1</b> CRAN packages</a></li>
<li class="chapter" data-level="1.5.2" data-path="packages.html"><a href="packages.html#bioconductor-packages"><i class="fa fa-check"></i><b>1.5.2</b> Bioconductor packages</a></li>
<li class="chapter" data-level="1.5.3" data-path="packages.html"><a href="packages.html#github-packages"><i class="fa fa-check"></i><b>1.5.3</b> GitHub packages</a></li>
<li class="chapter" data-level="1.5.4" data-path="packages.html"><a href="packages.html#using-packages"><i class="fa fa-check"></i><b>1.5.4</b> Using packages</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="rsprojs.html"><a href="rsprojs.html"><i class="fa fa-check"></i><b>1.6</b> Projects in RStudio</a></li>
<li class="chapter" data-level="1.7" data-path="work-d.html"><a href="work-d.html"><i class="fa fa-check"></i><b>1.7</b> Working directories</a></li>
<li class="chapter" data-level="1.8" data-path="dir_struct.html"><a href="dir_struct.html"><i class="fa fa-check"></i><b>1.8</b> Directory structure</a></li>
<li class="chapter" data-level="1.9" data-path="file_names.html"><a href="file_names.html"><i class="fa fa-check"></i><b>1.9</b> File names</a></li>
<li class="chapter" data-level="1.10" data-path="proj_doc.html"><a href="proj_doc.html"><i class="fa fa-check"></i><b>1.10</b> Project documentation</a></li>
<li class="chapter" data-level="1.11" data-path="r-style-guide.html"><a href="r-style-guide.html"><i class="fa fa-check"></i><b>1.11</b> R style guide</a></li>
<li class="chapter" data-level="1.12" data-path="backing-up-projects.html"><a href="backing-up-projects.html"><i class="fa fa-check"></i><b>1.12</b> Backing up projects</a></li>
<li class="chapter" data-level="1.13" data-path="citing-r.html"><a href="citing-r.html"><i class="fa fa-check"></i><b>1.13</b> Citing R</a></li>
<li class="chapter" data-level="1.14" data-path="exercise-1.html"><a href="exercise-1.html"><i class="fa fa-check"></i><b>1.14</b> Exercise 1</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="basics_r.html"><a href="basics_r.html"><i class="fa fa-check"></i><b>2</b> Some R basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>2.1</b> Getting started</a></li>
<li class="chapter" data-level="2.2" data-path="objects-in-r.html"><a href="objects-in-r.html"><i class="fa fa-check"></i><b>2.2</b> Objects in R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="objects-in-r.html"><a href="objects-in-r.html#r_objs"><i class="fa fa-check"></i><b>2.2.1</b> Creating objects</a></li>
<li class="chapter" data-level="2.2.2" data-path="objects-in-r.html"><a href="objects-in-r.html#naming-objects"><i class="fa fa-check"></i><b>2.2.2</b> Naming objects</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="using-functions-in-r.html"><a href="using-functions-in-r.html"><i class="fa fa-check"></i><b>2.3</b> Using functions in R</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="using-functions-in-r.html"><a href="using-functions-in-r.html#pipes.-a-better-way"><i class="fa fa-check"></i><b>2.3.1</b> Pipes. A better way!!!!!</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="vectors.html"><a href="vectors.html"><i class="fa fa-check"></i><b>2.4</b> Working with vectors</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="vectors.html"><a href="vectors.html#extracting-elements"><i class="fa fa-check"></i><b>2.4.1</b> Extracting elements</a></li>
<li class="chapter" data-level="2.4.2" data-path="vectors.html"><a href="vectors.html#replacing-elements"><i class="fa fa-check"></i><b>2.4.2</b> Replacing elements</a></li>
<li class="chapter" data-level="2.4.3" data-path="vectors.html"><a href="vectors.html#vec_ord"><i class="fa fa-check"></i><b>2.4.3</b> Ordering elements</a></li>
<li class="chapter" data-level="2.4.4" data-path="vectors.html"><a href="vectors.html#vectorisation"><i class="fa fa-check"></i><b>2.4.4</b> Vectorisation</a></li>
<li class="chapter" data-level="2.4.5" data-path="vectors.html"><a href="vectors.html#na_vals"><i class="fa fa-check"></i><b>2.4.5</b> Missing data</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="help.html"><a href="help.html"><i class="fa fa-check"></i><b>2.5</b> Getting help</a>
<ul>
<li class="chapter" data-level="2.5.1" data-path="help.html"><a href="help.html#r-help"><i class="fa fa-check"></i><b>2.5.1</b> R help</a></li>
<li class="chapter" data-level="2.5.2" data-path="help.html"><a href="help.html#rhelp"><i class="fa fa-check"></i><b>2.5.2</b> Other sources of help</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="saving-stuff-in-r.html"><a href="saving-stuff-in-r.html"><i class="fa fa-check"></i><b>2.6</b> Saving stuff in R</a></li>
<li class="chapter" data-level="2.7" data-path="exercise-2.html"><a href="exercise-2.html"><i class="fa fa-check"></i><b>2.7</b> Exercise 2</a></li>
</ul></li>
<li class="chapter" data-level="3" data-path="data_r.html"><a href="data_r.html"><i class="fa fa-check"></i><b>3</b> Data in R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="basic-data-types.html"><a href="basic-data-types.html"><i class="fa fa-check"></i><b>3.1</b> Basic Data types</a></li>
<li class="chapter" data-level="3.2" data-path="complicated-data-types.html"><a href="complicated-data-types.html"><i class="fa fa-check"></i><b>3.2</b> Complicated Data Types</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="complicated-data-types.html"><a href="complicated-data-types.html#dealing-with-date-and-time"><i class="fa fa-check"></i><b>3.2.1</b> Dealing with Date and Time</a></li>
<li class="chapter" data-level="3.2.2" data-path="complicated-data-types.html"><a href="complicated-data-types.html#factors"><i class="fa fa-check"></i><b>3.2.2</b> Factors</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="data-structures.html"><a href="data-structures.html"><i class="fa fa-check"></i><b>3.3</b> Data structures</a>
<ul>
<li class="chapter" data-level="3.3.1" data-path="data-structures.html"><a href="data-structures.html#scal_vecs"><i class="fa fa-check"></i><b>3.3.1</b> Scalars and vectors</a></li>
<li class="chapter" data-level="3.3.2" data-path="data-structures.html"><a href="data-structures.html#mat_array"><i class="fa fa-check"></i><b>3.3.2</b> Matrices and arrays</a></li>
<li class="chapter" data-level="3.3.3" data-path="data-structures.html"><a href="data-structures.html#lists"><i class="fa fa-check"></i><b>3.3.3</b> Lists</a></li>
<li class="chapter" data-level="3.3.4" data-path="data-structures.html"><a href="data-structures.html#df"><i class="fa fa-check"></i><b>3.3.4</b> Data frames</a></li>
</ul></li>
<li class="chapter" data-level="3.4" data-path="importing-data.html"><a href="importing-data.html"><i class="fa fa-check"></i><b>3.4</b> Importing data</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="importing-data.html"><a href="importing-data.html#saving-files-to-import"><i class="fa fa-check"></i><b>3.4.1</b> Saving files to import</a></li>
<li class="chapter" data-level="3.4.2" data-path="importing-data.html"><a href="importing-data.html#import_fnc"><i class="fa fa-check"></i><b>3.4.2</b> Import functions</a></li>
<li class="chapter" data-level="3.4.3" data-path="importing-data.html"><a href="importing-data.html#common-import-frustrations"><i class="fa fa-check"></i><b>3.4.3</b> Common import frustrations</a></li>
<li class="chapter" data-level="3.4.4" data-path="importing-data.html"><a href="importing-data.html#import_other"><i class="fa fa-check"></i><b>3.4.4</b> Other import options</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html"><i class="fa fa-check"></i><b>3.5</b> Wrangling data frames</a>
<ul>
<li class="chapter" data-level="3.5.1" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#positional-indexes"><i class="fa fa-check"></i><b>3.5.1</b> Positional indexes</a></li>
<li class="chapter" data-level="3.5.2" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#logical-indexes"><i class="fa fa-check"></i><b>3.5.2</b> Logical indexes</a></li>
<li class="chapter" data-level="3.5.3" data-path="wrangling-data-frames.html"><a href="wrangling-data-frames.html#adding-columns-and-rows"><i class="fa fa-check"></i><b>3.5.3</b> Adding columns and rows</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="summarising-data-frames.html"><a href="summarising-data-frames.html"><i class="fa fa-check"></i><b>3.6</b> Summarising data frames</a></li>
<li class="chapter" data-level="3.7" data-path="exporting-data.html"><a href="exporting-data.html"><i class="fa fa-check"></i><b>3.7</b> Exporting data</a></li>
<li class="chapter" data-level="3.8" data-path="exercise-3.html"><a href="exercise-3.html"><i class="fa fa-check"></i><b>3.8</b> Exercise 3</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="data_tidyverse.html"><a href="data_tidyverse.html"><i class="fa fa-check"></i><b>4</b> Tidyverse</a>
<ul>
<li class="chapter" data-level="4.1" data-path="data-frames-tibbles.html"><a href="data-frames-tibbles.html"><i class="fa fa-check"></i><b>4.1</b> Data Frames &amp; Tibbles</a></li>
<li class="chapter" data-level="4.2" data-path="reading-external-data.html"><a href="reading-external-data.html"><i class="fa fa-check"></i><b>4.2</b> Reading external data</a></li>
<li class="chapter" data-level="4.3" data-path="wrangling-data.html"><a href="wrangling-data.html"><i class="fa fa-check"></i><b>4.3</b> Wrangling Data</a></li>
<li class="chapter" data-level="4.4" data-path="relational-data.html"><a href="relational-data.html"><i class="fa fa-check"></i><b>4.4</b> Relational Data</a></li>
<li class="chapter" data-level="4.5" data-path="exercise-4.html"><a href="exercise-4.html"><i class="fa fa-check"></i><b>4.5</b> Exercise 4</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="graphics_r.html"><a href="graphics_r.html"><i class="fa fa-check"></i><b>5</b> Graphics with ggplot</a>
<ul>
<li class="chapter" data-level="5.1" data-path="beginning-at-the-end.html"><a href="beginning-at-the-end.html"><i class="fa fa-check"></i><b>5.1</b> Beginning at the end</a></li>
<li class="chapter" data-level="5.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html"><i class="fa fa-check"></i><b>5.2</b> The start of the end</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#the-purest-of-ggplots"><i class="fa fa-check"></i><b>5.2.1</b> The purest of ggplots</a></li>
<li class="chapter" data-level="5.2.2" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#wrapping-grids"><i class="fa fa-check"></i><b>5.2.2</b> Wrapping grids</a></li>
<li class="chapter" data-level="5.2.3" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#plotting-multiple-ggplots"><i class="fa fa-check"></i><b>5.2.3</b> Plotting multiple ggplots</a></li>
<li class="chapter" data-level="5.2.4" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#make-it-your-own"><i class="fa fa-check"></i><b>5.2.4</b> Make it your own</a></li>
<li class="chapter" data-level="5.2.5" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#setting-the-theme"><i class="fa fa-check"></i><b>5.2.5</b> Setting the theme</a></li>
<li class="chapter" data-level="5.2.6" data-path="the-start-of-the-end.html"><a href="the-start-of-the-end.html#prettification"><i class="fa fa-check"></i><b>5.2.6</b> Prettification</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="tips.html"><a href="tips.html"><i class="fa fa-check"></i><b>5.3</b> Tips and tricks</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="tips.html"><a href="tips.html#statistics-layer"><i class="fa fa-check"></i><b>5.3.1</b> Statistics layer</a></li>
<li class="chapter" data-level="5.3.2" data-path="tips.html"><a href="tips.html#axis-limits-and-zooms"><i class="fa fa-check"></i><b>5.3.2</b> Axis limits and zooms</a></li>
<li class="chapter" data-level="5.3.3" data-path="tips.html"><a href="tips.html#layering-layers"><i class="fa fa-check"></i><b>5.3.3</b> Layering layers</a></li>
<li class="chapter" data-level="5.3.4" data-path="tips.html"><a href="tips.html#continuous-colours"><i class="fa fa-check"></i><b>5.3.4</b> Continuous colours</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="exercise-5.html"><a href="exercise-5.html"><i class="fa fa-check"></i><b>5.4</b> Exercise 5</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="prog_r.html"><a href="prog_r.html"><i class="fa fa-check"></i><b>6</b> Programming in R</a>
<ul>
<li class="chapter" data-level="6.1" data-path="functions-in-r.html"><a href="functions-in-r.html"><i class="fa fa-check"></i><b>6.1</b> Functions in R</a></li>
<li class="chapter" data-level="6.2" data-path="conditional-statements.html"><a href="conditional-statements.html"><i class="fa fa-check"></i><b>6.2</b> Conditional statements</a></li>
<li class="chapter" data-level="6.3" data-path="combining-logical-operators.html"><a href="combining-logical-operators.html"><i class="fa fa-check"></i><b>6.3</b> Combining logical operators</a></li>
<li class="chapter" data-level="6.4" data-path="loops.html"><a href="loops.html"><i class="fa fa-check"></i><b>6.4</b> Loops</a>
<ul>
<li class="chapter" data-level="6.4.1" data-path="loops.html"><a href="loops.html#for-loop"><i class="fa fa-check"></i><b>6.4.1</b> For loop</a></li>
<li class="chapter" data-level="6.4.2" data-path="loops.html"><a href="loops.html#while-loop"><i class="fa fa-check"></i><b>6.4.2</b> While loop</a></li>
<li class="chapter" data-level="6.4.3" data-path="loops.html"><a href="loops.html#when-to-use-a-loop"><i class="fa fa-check"></i><b>6.4.3</b> When to use a loop?</a></li>
<li class="chapter" data-level="6.4.4" data-path="loops.html"><a href="loops.html#if-not-loops-then-what"><i class="fa fa-check"></i><b>6.4.4</b> If not loops, then what?</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="exercise-6.html"><a href="exercise-6.html"><i class="fa fa-check"></i><b>6.5</b> Exercise 6</a></li>
</ul></li>
<li class="appendix"><span><b>Appendix</b></span></li>
<li class="chapter" data-level="A" data-path="install-rm.html"><a href="install-rm.html"><i class="fa fa-check"></i><b>A</b> Installing R Markdown</a>
<ul>
<li class="chapter" data-level="A.1" data-path="ms-windows.html"><a href="ms-windows.html"><i class="fa fa-check"></i><b>A.1</b> MS Windows</a></li>
<li class="chapter" data-level="A.2" data-path="mac-osx.html"><a href="mac-osx.html"><i class="fa fa-check"></i><b>A.2</b> Mac OSX</a></li>
</ul></li>
<li class="chapter" data-level="B" data-path="rmarkdown_r.html"><a href="rmarkdown_r.html"><i class="fa fa-check"></i><b>B</b> Reproducible reports with R markdown</a>
<ul>
<li class="chapter" data-level="B.1" data-path="what-is-r-markdown.html"><a href="what-is-r-markdown.html"><i class="fa fa-check"></i><b>B.1</b> What is R markdown?</a></li>
<li class="chapter" data-level="B.2" data-path="why-use-r-markdown.html"><a href="why-use-r-markdown.html"><i class="fa fa-check"></i><b>B.2</b> Why use R markdown?</a></li>
<li class="chapter" data-level="B.3" data-path="get-started-with-r-markdown.html"><a href="get-started-with-r-markdown.html"><i class="fa fa-check"></i><b>B.3</b> Get started with R markdown</a></li>
<li class="chapter" data-level="B.4" data-path="new_rm.html"><a href="new_rm.html"><i class="fa fa-check"></i><b>B.4</b> Create an R markdown document</a></li>
<li class="chapter" data-level="B.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html"><i class="fa fa-check"></i><b>B.5</b> R markdown anatomy</a>
<ul>
<li class="chapter" data-level="B.5.1" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#yaml-header"><i class="fa fa-check"></i><b>B.5.1</b> YAML header</a></li>
<li class="chapter" data-level="B.5.2" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#formatted-text"><i class="fa fa-check"></i><b>B.5.2</b> Formatted text</a></li>
<li class="chapter" data-level="B.5.3" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#code_chunks"><i class="fa fa-check"></i><b>B.5.3</b> Code chunks</a></li>
<li class="chapter" data-level="B.5.4" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-figures"><i class="fa fa-check"></i><b>B.5.4</b> Adding figures</a></li>
<li class="chapter" data-level="B.5.5" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#adding-tables"><i class="fa fa-check"></i><b>B.5.5</b> Adding tables</a></li>
<li class="chapter" data-level="B.5.6" data-path="r-markdown-anatomy.html"><a href="r-markdown-anatomy.html#inline-r-code"><i class="fa fa-check"></i><b>B.5.6</b> Inline R code</a></li>
</ul></li>
<li class="chapter" data-level="B.6" data-path="tips_tricks.html"><a href="tips_tricks.html"><i class="fa fa-check"></i><b>B.6</b> Some tips and tricks</a></li>
<li class="chapter" data-level="B.7" data-path="further-information.html"><a href="further-information.html"><i class="fa fa-check"></i><b>B.7</b> Further Information</a></li>
</ul></li>
<li class="chapter" data-level="C" data-path="github_r.html"><a href="github_r.html"><i class="fa fa-check"></i><b>C</b> Version control with Git and GitHub</a>
<ul>
<li class="chapter" data-level="C.1" data-path="what-is-version-control.html"><a href="what-is-version-control.html"><i class="fa fa-check"></i><b>C.1</b> What is version control?</a></li>
<li class="chapter" data-level="C.2" data-path="why-use-version-control.html"><a href="why-use-version-control.html"><i class="fa fa-check"></i><b>C.2</b> Why use version control?</a></li>
<li class="chapter" data-level="C.3" data-path="what-is-git-and-github.html"><a href="what-is-git-and-github.html"><i class="fa fa-check"></i><b>C.3</b> What is Git and GitHub?</a></li>
<li class="chapter" data-level="C.4" data-path="setup_git.html"><a href="setup_git.html"><i class="fa fa-check"></i><b>C.4</b> Getting started</a>
<ul>
<li class="chapter" data-level="C.4.1" data-path="setup_git.html"><a href="setup_git.html#install-git"><i class="fa fa-check"></i><b>C.4.1</b> Install Git</a></li>
<li class="chapter" data-level="C.4.2" data-path="setup_git.html"><a href="setup_git.html#configure-git"><i class="fa fa-check"></i><b>C.4.2</b> Configure Git</a></li>
<li class="chapter" data-level="C.4.3" data-path="setup_git.html"><a href="setup_git.html#rs_config"><i class="fa fa-check"></i><b>C.4.3</b> Configure RStudio</a></li>
<li class="chapter" data-level="C.4.4" data-path="setup_git.html"><a href="setup_git.html#register-a-github-account"><i class="fa fa-check"></i><b>C.4.4</b> Register a GitHub account</a></li>
</ul></li>
<li class="chapter" data-level="C.5" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html"><i class="fa fa-check"></i><b>C.5</b> Setting up a project in RStudio</a>
<ul>
<li class="chapter" data-level="C.5.1" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt1"><i class="fa fa-check"></i><b>C.5.1</b> Option 1 - GitHub first</a></li>
<li class="chapter" data-level="C.5.2" data-path="setting-up-a-project-in-rstudio.html"><a href="setting-up-a-project-in-rstudio.html#opt2"><i class="fa fa-check"></i><b>C.5.2</b> Option 2 - RStudio first</a></li>
</ul></li>
<li class="chapter" data-level="C.6" data-path="use_git.html"><a href="use_git.html"><i class="fa fa-check"></i><b>C.6</b> Using Git</a>
<ul>
<li class="chapter" data-level="C.6.1" data-path="use_git.html"><a href="use_git.html#tracking-changes"><i class="fa fa-check"></i><b>C.6.1</b> Tracking changes</a></li>
<li class="chapter" data-level="C.6.2" data-path="use_git.html"><a href="use_git.html#commit-history"><i class="fa fa-check"></i><b>C.6.2</b> Commit history</a></li>
<li class="chapter" data-level="C.6.3" data-path="use_git.html"><a href="use_git.html#undo"><i class="fa fa-check"></i><b>C.6.3</b> Reverting changes</a></li>
<li class="chapter" data-level="C.6.4" data-path="use_git.html"><a href="use_git.html#collab"><i class="fa fa-check"></i><b>C.6.4</b> Collaborate with Git</a></li>
<li class="chapter" data-level="C.6.5" data-path="use_git.html"><a href="use_git.html#git-tips"><i class="fa fa-check"></i><b>C.6.5</b> Git tips</a></li>
</ul></li>
<li class="chapter" data-level="C.7" data-path="resources.html"><a href="resources.html"><i class="fa fa-check"></i><b>C.7</b> Further resources</a></li>
</ul></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">An Introduction to R</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="exercise-6-basic-programming-in-r" class="section level1 unlisted unnumbered hasAnchor">
<h1>Exercise 6: Basic programming in R<a href="exercise-6-basic-programming-in-r.html#exercise-6-basic-programming-in-r" class="anchor-section" aria-label="Anchor link to header"></a></h1>
<p> </p>
<p>Read <a href="https://nkaza.github.io/intro2Rbook/prog_r.html">Chapter 6</a> to help you complete the questions in this exercise. Click on the ‘code’ button to the right of each question to reveal the solutions code (but try to find a solution first!).</p>
<p> </p>
<ol style="list-style-type: decimal">
<li><p>Create a function to calculate the area of a circle. Test the function by finding the area of a circle with a diameter of 3.4 cm. Can you use it on a vector of data?</p>
<div class="sourceCode" id="cb348"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb348-1"><a href="exercise-6-basic-programming-in-r.html#cb348-1" aria-hidden="true" tabindex="-1"></a><span class="co"># area of a circle</span></span>
<span id="cb348-2"><a href="exercise-6-basic-programming-in-r.html#cb348-2" aria-hidden="true" tabindex="-1"></a><span class="co"># the equation to calculate the area of a circle is pi * radius^2</span></span>
<span id="cb348-3"><a href="exercise-6-basic-programming-in-r.html#cb348-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-4"><a href="exercise-6-basic-programming-in-r.html#cb348-4" aria-hidden="true" tabindex="-1"></a>circle.area <span class="ot">&lt;-</span> <span class="cf">function</span>(d) {</span>
<span id="cb348-5"><a href="exercise-6-basic-programming-in-r.html#cb348-5" aria-hidden="true" tabindex="-1"></a>  pi <span class="sc">*</span> (d <span class="sc">/</span> <span class="dv">2</span>)<span class="sc">^</span><span class="dv">2</span></span>
<span id="cb348-6"><a href="exercise-6-basic-programming-in-r.html#cb348-6" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb348-7"><a href="exercise-6-basic-programming-in-r.html#cb348-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-8"><a href="exercise-6-basic-programming-in-r.html#cb348-8" aria-hidden="true" tabindex="-1"></a><span class="co"># to use your new function</span></span>
<span id="cb348-9"><a href="exercise-6-basic-programming-in-r.html#cb348-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-10"><a href="exercise-6-basic-programming-in-r.html#cb348-10" aria-hidden="true" tabindex="-1"></a><span class="fu">circle.area</span>(<span class="dv">10</span>)</span>
<span id="cb348-11"><a href="exercise-6-basic-programming-in-r.html#cb348-11" aria-hidden="true" tabindex="-1"></a><span class="co"># [1] 78.53982</span></span>
<span id="cb348-12"><a href="exercise-6-basic-programming-in-r.html#cb348-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-13"><a href="exercise-6-basic-programming-in-r.html#cb348-13" aria-hidden="true" tabindex="-1"></a><span class="co"># to test on a vector of diameters</span></span>
<span id="cb348-14"><a href="exercise-6-basic-programming-in-r.html#cb348-14" aria-hidden="true" tabindex="-1"></a><span class="co"># first create a vector with diameters ranging from 0 to 50 in steps of 10</span></span>
<span id="cb348-15"><a href="exercise-6-basic-programming-in-r.html#cb348-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-16"><a href="exercise-6-basic-programming-in-r.html#cb348-16" aria-hidden="true" tabindex="-1"></a>cir.diam <span class="ot">&lt;-</span> <span class="fu">seq</span>(<span class="at">from =</span> <span class="dv">0</span>, <span class="at">to =</span> <span class="dv">50</span>, <span class="at">by =</span> <span class="dv">10</span>)</span>
<span id="cb348-17"><a href="exercise-6-basic-programming-in-r.html#cb348-17" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-18"><a href="exercise-6-basic-programming-in-r.html#cb348-18" aria-hidden="true" tabindex="-1"></a><span class="co"># test your function</span></span>
<span id="cb348-19"><a href="exercise-6-basic-programming-in-r.html#cb348-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb348-20"><a href="exercise-6-basic-programming-in-r.html#cb348-20" aria-hidden="true" tabindex="-1"></a><span class="fu">circle.area</span>(cir.diam)</span>
<span id="cb348-21"><a href="exercise-6-basic-programming-in-r.html#cb348-21" aria-hidden="true" tabindex="-1"></a><span class="co"># [1]    0.00000   78.53982  314.15927  706.85835 1256.63706 1963.49541</span></span></code></pre></div></li>
</ol>
<p> </p>
<ol start="2" style="list-style-type: decimal">
<li><p>Write a function to convert farenheit to centegrade (oC = (oF - 32) x 5/9). Get your function to print out your result in the following format: “Farenheit : <em>value of oF</em> is equivalent to <em>value oC</em> centigrade.”</p>
<div class="sourceCode" id="cb349"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb349-1"><a href="exercise-6-basic-programming-in-r.html#cb349-1" aria-hidden="true" tabindex="-1"></a>far.cent <span class="ot">&lt;-</span> <span class="cf">function</span>(a) {</span>
<span id="cb349-2"><a href="exercise-6-basic-programming-in-r.html#cb349-2" aria-hidden="true" tabindex="-1"></a>    val <span class="ot">&lt;-</span> (a <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span><span class="sc">/</span><span class="dv">9</span></span>
<span id="cb349-3"><a href="exercise-6-basic-programming-in-r.html#cb349-3" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Fahrenheit: &quot;</span>, <span class="fu">round</span>(a, <span class="at">digits =</span> <span class="dv">3</span>), <span class="st">&quot;oF&quot;</span>, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>), <span class="at">quote =</span> <span class="cn">FALSE</span>)  <span class="co"># round 3dp</span></span>
<span id="cb349-4"><a href="exercise-6-basic-programming-in-r.html#cb349-4" aria-hidden="true" tabindex="-1"></a>    <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;Centigrade: &quot;</span>, <span class="fu">round</span>(val, <span class="at">digits =</span> <span class="dv">3</span>), <span class="st">&quot;oC&quot;</span>, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>), <span class="at">quote =</span> <span class="cn">FALSE</span>)  <span class="co"># round 3dp</span></span>
<span id="cb349-5"><a href="exercise-6-basic-programming-in-r.html#cb349-5" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb349-6"><a href="exercise-6-basic-programming-in-r.html#cb349-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-7"><a href="exercise-6-basic-programming-in-r.html#cb349-7" aria-hidden="true" tabindex="-1"></a><span class="co"># alternative Fahrenheit to centigrade using cat function</span></span>
<span id="cb349-8"><a href="exercise-6-basic-programming-in-r.html#cb349-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb349-9"><a href="exercise-6-basic-programming-in-r.html#cb349-9" aria-hidden="true" tabindex="-1"></a>far.cent2 <span class="ot">&lt;-</span> <span class="cf">function</span>(a) {</span>
<span id="cb349-10"><a href="exercise-6-basic-programming-in-r.html#cb349-10" aria-hidden="true" tabindex="-1"></a>    val <span class="ot">&lt;-</span> (a <span class="sc">-</span> <span class="dv">32</span>) <span class="sc">*</span> <span class="dv">5</span><span class="sc">/</span><span class="dv">9</span>  <span class="co"># calculation</span></span>
<span id="cb349-11"><a href="exercise-6-basic-programming-in-r.html#cb349-11" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Fahrenheit: &quot;</span>, <span class="fu">round</span>(a, <span class="at">digits =</span> <span class="dv">3</span>), <span class="st">&quot;oF&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)  <span class="co"># use cat function</span></span>
<span id="cb349-12"><a href="exercise-6-basic-programming-in-r.html#cb349-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">cat</span>(<span class="st">&quot;Centigrade: &quot;</span>, <span class="fu">round</span>(val, <span class="at">digits =</span> <span class="dv">3</span>), <span class="st">&quot;oC&quot;</span>, <span class="st">&quot;</span><span class="sc">\n</span><span class="st">&quot;</span>)</span>
<span id="cb349-13"><a href="exercise-6-basic-programming-in-r.html#cb349-13" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div></li>
</ol>
<p> </p>
<ol start="3" style="list-style-type: decimal">
<li><p>Create a vector of normally distributed data, of length 100, mean 35 and standard deviation of 15. Write a function to calculate the mean, median, and range of the vector, print these values out with appropriate labels. Also get the function to plot a histogram (as a proportion) of the values and add a density curve.</p>
<div class="sourceCode" id="cb350"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb350-1"><a href="exercise-6-basic-programming-in-r.html#cb350-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Create a vector of normally distributed data</span></span>
<span id="cb350-2"><a href="exercise-6-basic-programming-in-r.html#cb350-2" aria-hidden="true" tabindex="-1"></a><span class="co"># length 100, mean 35 and standard deviation of 29</span></span>
<span id="cb350-3"><a href="exercise-6-basic-programming-in-r.html#cb350-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-4"><a href="exercise-6-basic-programming-in-r.html#cb350-4" aria-hidden="true" tabindex="-1"></a>vals <span class="ot">&lt;-</span> <span class="fu">rnorm</span>(<span class="dv">100</span>, <span class="dv">35</span>, <span class="dv">15</span>) <span class="co"># create some norm dist data mean 35, sd = 15</span></span>
<span id="cb350-5"><a href="exercise-6-basic-programming-in-r.html#cb350-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-6"><a href="exercise-6-basic-programming-in-r.html#cb350-6" aria-hidden="true" tabindex="-1"></a>summary.fun <span class="ot">&lt;-</span> <span class="cf">function</span>(dat) {</span>
<span id="cb350-7"><a href="exercise-6-basic-programming-in-r.html#cb350-7" aria-hidden="true" tabindex="-1"></a>  mymean <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">mean</span>(dat), <span class="at">digits =</span> <span class="dv">4</span>) <span class="co"># calc mean</span></span>
<span id="cb350-8"><a href="exercise-6-basic-programming-in-r.html#cb350-8" aria-hidden="true" tabindex="-1"></a>  mymedian <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">median</span>(dat), <span class="at">digits =</span> <span class="dv">4</span>) <span class="co"># calc median</span></span>
<span id="cb350-9"><a href="exercise-6-basic-programming-in-r.html#cb350-9" aria-hidden="true" tabindex="-1"></a>  mymin <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">min</span>(dat), <span class="at">digits =</span> <span class="dv">4</span>) <span class="co"># calc min</span></span>
<span id="cb350-10"><a href="exercise-6-basic-programming-in-r.html#cb350-10" aria-hidden="true" tabindex="-1"></a>  mymax <span class="ot">&lt;-</span> <span class="fu">round</span>(<span class="fu">max</span>(dat), <span class="at">digits =</span> <span class="dv">4</span>) <span class="co"># calc max</span></span>
<span id="cb350-11"><a href="exercise-6-basic-programming-in-r.html#cb350-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;mean:&quot;</span>, mymean, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>), <span class="at">quote =</span> <span class="cn">FALSE</span>) <span class="co"># print mean</span></span>
<span id="cb350-12"><a href="exercise-6-basic-programming-in-r.html#cb350-12" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;median:&quot;</span>, mymedian, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>), <span class="at">quote =</span> <span class="cn">FALSE</span>) <span class="co"># print median</span></span>
<span id="cb350-13"><a href="exercise-6-basic-programming-in-r.html#cb350-13" aria-hidden="true" tabindex="-1"></a>  <span class="fu">print</span>(<span class="fu">paste</span>(<span class="st">&quot;range:&quot;</span>, <span class="st">&quot;from:&quot;</span>, mymin, <span class="st">&quot;to&quot;</span>, mymax, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>), <span class="at">quote =</span> <span class="cn">FALSE</span>)</span>
<span id="cb350-14"><a href="exercise-6-basic-programming-in-r.html#cb350-14" aria-hidden="true" tabindex="-1"></a>  dens <span class="ot">&lt;-</span> <span class="fu">density</span>(dat) <span class="co"># estimate density curve</span></span>
<span id="cb350-15"><a href="exercise-6-basic-programming-in-r.html#cb350-15" aria-hidden="true" tabindex="-1"></a>  <span class="fu">hist</span>(dat, <span class="at">main =</span> <span class="st">&quot;&quot;</span>, <span class="at">type =</span> <span class="st">&quot;l&quot;</span>, <span class="at">freq =</span> <span class="cn">FALSE</span>) <span class="co"># plot histogram</span></span>
<span id="cb350-16"><a href="exercise-6-basic-programming-in-r.html#cb350-16" aria-hidden="true" tabindex="-1"></a>  <span class="fu">lines</span>(dens, <span class="at">lty =</span> <span class="dv">1</span>, <span class="at">col =</span> <span class="st">&quot;red&quot;</span>) <span class="co"># plot density curve</span></span>
<span id="cb350-17"><a href="exercise-6-basic-programming-in-r.html#cb350-17" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb350-18"><a href="exercise-6-basic-programming-in-r.html#cb350-18" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb350-19"><a href="exercise-6-basic-programming-in-r.html#cb350-19" aria-hidden="true" tabindex="-1"></a><span class="co"># use the function</span></span>
<span id="cb350-20"><a href="exercise-6-basic-programming-in-r.html#cb350-20" aria-hidden="true" tabindex="-1"></a><span class="fu">summary.fun</span>(vals)</span></code></pre></div></li>
</ol>
<p> </p>
<ol start="4" style="list-style-type: decimal">
<li><p>Write a function to calculate the median value of a vector of numbers (yes I know there’s a <code>median()</code> function already but this is fun!). Be careful with vectors of an even sample size, as you will have to take the average of the two central numbers (hint: use modulo %%2 to determine whether the vector is an odd or an even size). Test your function on vectors with both odd and even sample sizes.</p>
<div class="sourceCode" id="cb351"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb351-1"><a href="exercise-6-basic-programming-in-r.html#cb351-1" aria-hidden="true" tabindex="-1"></a><span class="co"># calculate a median</span></span>
<span id="cb351-2"><a href="exercise-6-basic-programming-in-r.html#cb351-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-3"><a href="exercise-6-basic-programming-in-r.html#cb351-3" aria-hidden="true" tabindex="-1"></a>ourmedian <span class="ot">&lt;-</span> <span class="cf">function</span>(x) {</span>
<span id="cb351-4"><a href="exercise-6-basic-programming-in-r.html#cb351-4" aria-hidden="true" tabindex="-1"></a>  n <span class="ot">&lt;-</span> <span class="fu">length</span>(x)</span>
<span id="cb351-5"><a href="exercise-6-basic-programming-in-r.html#cb351-5" aria-hidden="true" tabindex="-1"></a>  <span class="cf">if</span> (n <span class="sc">%%</span> <span class="dv">2</span> <span class="sc">==</span> <span class="dv">1</span>) { <span class="co"># odd numbers</span></span>
<span id="cb351-6"><a href="exercise-6-basic-programming-in-r.html#cb351-6" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(x)[(n <span class="sc">+</span> <span class="dv">1</span>) <span class="sc">/</span> <span class="dv">2</span>]</span>
<span id="cb351-7"><a href="exercise-6-basic-programming-in-r.html#cb351-7" aria-hidden="true" tabindex="-1"></a>  } <span class="co"># find the middle number by adding 1 to length and div 2</span></span>
<span id="cb351-8"><a href="exercise-6-basic-programming-in-r.html#cb351-8" aria-hidden="true" tabindex="-1"></a>  <span class="cf">else</span> { <span class="co"># even numbers</span></span>
<span id="cb351-9"><a href="exercise-6-basic-programming-in-r.html#cb351-9" aria-hidden="true" tabindex="-1"></a>middletwo <span class="ot">&lt;-</span> <span class="fu">sort</span>(x)[(n <span class="sc">/</span> <span class="dv">2</span>) <span class="sc">+</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">1</span>] <span class="co"># find the two middle numbers</span></span>
<span id="cb351-10"><a href="exercise-6-basic-programming-in-r.html#cb351-10" aria-hidden="true" tabindex="-1"></a><span class="fu">mean</span>(middletwo)</span>
<span id="cb351-11"><a href="exercise-6-basic-programming-in-r.html#cb351-11" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb351-12"><a href="exercise-6-basic-programming-in-r.html#cb351-12" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb351-13"><a href="exercise-6-basic-programming-in-r.html#cb351-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-14"><a href="exercise-6-basic-programming-in-r.html#cb351-14" aria-hidden="true" tabindex="-1"></a><span class="co"># use the function</span></span>
<span id="cb351-15"><a href="exercise-6-basic-programming-in-r.html#cb351-15" aria-hidden="true" tabindex="-1"></a>mydat <span class="ot">&lt;-</span> <span class="fu">sample</span>(<span class="dv">1</span><span class="sc">:</span><span class="dv">50</span>, <span class="at">size =</span> <span class="dv">10</span>, <span class="at">replace =</span> <span class="cn">TRUE</span>)</span>
<span id="cb351-16"><a href="exercise-6-basic-programming-in-r.html#cb351-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-17"><a href="exercise-6-basic-programming-in-r.html#cb351-17" aria-hidden="true" tabindex="-1"></a><span class="co"># our function</span></span>
<span id="cb351-18"><a href="exercise-6-basic-programming-in-r.html#cb351-18" aria-hidden="true" tabindex="-1"></a><span class="fu">ourmedian</span>(mydat)</span>
<span id="cb351-19"><a href="exercise-6-basic-programming-in-r.html#cb351-19" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb351-20"><a href="exercise-6-basic-programming-in-r.html#cb351-20" aria-hidden="true" tabindex="-1"></a><span class="co"># R median function</span></span>
<span id="cb351-21"><a href="exercise-6-basic-programming-in-r.html#cb351-21" aria-hidden="true" tabindex="-1"></a><span class="fu">median</span>(mydat)</span></code></pre></div></li>
</ol>
<p> </p>
<ol start="5" style="list-style-type: decimal">
<li>You are a population ecologist for the day and wish to investigate the properties of the <a href="https://en.wikipedia.org/wiki/Ricker_model">Ricker model</a>. The Ricker model is defined as:</li>
</ol>
<p> </p>
<p><span class="math display">\[ N_{t+1} = N_{t} exp\left[r\left(1- \frac{N_{t}}{K} \right) \right] \]</span></p>
<p> </p>
<ol start="5" style="list-style-type: decimal">
<li><p>(cont) Where <em>N<sub>t</sub></em> is the population size at time <em>t</em>, <em>r</em> is the population growth rate and <em>K</em> is the carrying capacity. Write a function to simulate this model so you can conveniently determine the effect of changing <em>r</em> and the initial population size N0. <em>K</em> is often set to 100 by default, but you want the option of being able to change this with your function. So, you will need a function with the following arguments; nzero which sets the initial population size, <em>r</em> which will determine the population growth rate, time which sets how long the simulation will run for and <em>K</em> which we will initially set to 100 by default.</p>
<div class="sourceCode" id="cb352"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb352-1"><a href="exercise-6-basic-programming-in-r.html#cb352-1" aria-hidden="true" tabindex="-1"></a><span class="co"># function to simulate Ricker model</span></span>
<span id="cb352-2"><a href="exercise-6-basic-programming-in-r.html#cb352-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-3"><a href="exercise-6-basic-programming-in-r.html#cb352-3" aria-hidden="true" tabindex="-1"></a>Ricker.model <span class="ot">&lt;-</span> <span class="cf">function</span>(nzero, r, time, <span class="at">K =</span> <span class="dv">1</span>) {</span>
<span id="cb352-4"><a href="exercise-6-basic-programming-in-r.html#cb352-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># sets initial parameters</span></span>
<span id="cb352-5"><a href="exercise-6-basic-programming-in-r.html#cb352-5" aria-hidden="true" tabindex="-1"></a>    N <span class="ot">&lt;-</span> <span class="fu">numeric</span>(time <span class="sc">+</span> <span class="dv">1</span>)  <span class="co"># creates a real vector of length time+1 to store values of Nt+1</span></span>
<span id="cb352-6"><a href="exercise-6-basic-programming-in-r.html#cb352-6" aria-hidden="true" tabindex="-1"></a>    N[<span class="dv">1</span>] <span class="ot">&lt;-</span> nzero  <span class="co"># sets initial population size in first element of N</span></span>
<span id="cb352-7"><a href="exercise-6-basic-programming-in-r.html#cb352-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">1</span><span class="sc">:</span>time) {</span>
<span id="cb352-8"><a href="exercise-6-basic-programming-in-r.html#cb352-8" aria-hidden="true" tabindex="-1"></a>        <span class="co"># loops over time</span></span>
<span id="cb352-9"><a href="exercise-6-basic-programming-in-r.html#cb352-9" aria-hidden="true" tabindex="-1"></a>        N[i <span class="sc">+</span> <span class="dv">1</span>] <span class="ot">&lt;-</span> N[i] <span class="sc">*</span> <span class="fu">exp</span>(r <span class="sc">*</span> (<span class="dv">1</span> <span class="sc">-</span> N[i]<span class="sc">/</span>K))</span>
<span id="cb352-10"><a href="exercise-6-basic-programming-in-r.html#cb352-10" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb352-11"><a href="exercise-6-basic-programming-in-r.html#cb352-11" aria-hidden="true" tabindex="-1"></a>    Time <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span>time  <span class="co"># creates vector for x axis</span></span>
<span id="cb352-12"><a href="exercise-6-basic-programming-in-r.html#cb352-12" aria-hidden="true" tabindex="-1"></a>    <span class="fu">plot</span>(Time, N, <span class="at">type =</span> <span class="st">&quot;o&quot;</span>, <span class="at">xlim =</span> <span class="fu">c</span>(<span class="dv">0</span>, time), <span class="at">xlab =</span> <span class="st">&quot;Time&quot;</span>, <span class="at">ylab =</span> <span class="st">&quot;Population size (N)&quot;</span>,</span>
<span id="cb352-13"><a href="exercise-6-basic-programming-in-r.html#cb352-13" aria-hidden="true" tabindex="-1"></a>        <span class="at">main =</span> <span class="fu">paste</span>(<span class="st">&quot;r =&quot;</span>, r, <span class="at">sep =</span> <span class="st">&quot; &quot;</span>))  <span class="co"># plots     output</span></span>
<span id="cb352-14"><a href="exercise-6-basic-programming-in-r.html#cb352-14" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb352-15"><a href="exercise-6-basic-programming-in-r.html#cb352-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb352-16"><a href="exercise-6-basic-programming-in-r.html#cb352-16" aria-hidden="true" tabindex="-1"></a><span class="co"># To run play around with the different parameters, especially r</span></span>
<span id="cb352-17"><a href="exercise-6-basic-programming-in-r.html#cb352-17" aria-hidden="true" tabindex="-1"></a><span class="fu">Ricker.model</span>(<span class="at">nzero =</span> <span class="fl">0.1</span>, <span class="at">r =</span> <span class="dv">1</span>, <span class="at">time =</span> <span class="dv">100</span>)</span></code></pre></div></li>
</ol>
<p> </p>
<ol start="6" style="list-style-type: decimal">
<li>One of the things computers can do much better than humans is to do repetitive things very fast. For example, <a href="lodes-website">LODES</a> website has data on commuting patterns (simulated) from each Census tract to another for each state in the US. For most states in the US, it has annual data from 2002 to 2019. Unfortunately to downlaod this data through a browser means that we will have to click individual links in each of these state subdirectories and save them.</li>
</ol>
<p>This can be made very easy with loops in R.</p>
<p>As an example, look at a the data for Connecticut. It is located at <a href="https://lehd.ces.census.gov/data/lodes/LODES7/ct/od/" class="uri">https://lehd.ces.census.gov/data/lodes/LODES7/ct/od/</a></p>
<p>and has files named ct_od_{main|aux}_JT0{0-5}_yyyy.csv.gz</p>
<p>where {main|aux} represent main or aux; 0-5 is a sequence of numbers from 0 to 5; yyyy is from 2002 to 2019.</p>
<ol style="list-style-type: lower-alpha">
<li>Using <code>download.file()</code> function to download individual files from the web and nested <code>for</code> loops, download all the files for Connecticut.</li>
</ol>
<div class="sourceCode" id="cb353"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb353-1"><a href="exercise-6-basic-programming-in-r.html#cb353-1" aria-hidden="true" tabindex="-1"></a>baseurl <span class="ot">&lt;-</span> <span class="st">&quot;https://lehd-ces-census-gov/data/lodes/LODES7/ct/od/&quot;</span></span>
<span id="cb353-2"><a href="exercise-6-basic-programming-in-r.html#cb353-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb353-3"><a href="exercise-6-basic-programming-in-r.html#cb353-3" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (m <span class="cf">in</span> <span class="fu">c</span>(<span class="st">&quot;main&quot;</span>, <span class="st">&quot;aux&quot;</span>)) {</span>
<span id="cb353-4"><a href="exercise-6-basic-programming-in-r.html#cb353-4" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> (i <span class="cf">in</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span>) {</span>
<span id="cb353-5"><a href="exercise-6-basic-programming-in-r.html#cb353-5" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> (year <span class="cf">in</span> <span class="dv">2002</span><span class="sc">:</span><span class="dv">2019</span>) {</span>
<span id="cb353-6"><a href="exercise-6-basic-programming-in-r.html#cb353-6" aria-hidden="true" tabindex="-1"></a>            filename <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;ct_od_&quot;</span>, m, <span class="st">&quot;_JT0&quot;</span>, i, <span class="st">&quot;_&quot;</span>, year, <span class="st">&quot;.csv.gz&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb353-7"><a href="exercise-6-basic-programming-in-r.html#cb353-7" aria-hidden="true" tabindex="-1"></a>            fileurl <span class="ot">&lt;-</span> <span class="fu">paste</span>(baseurl, filename)</span>
<span id="cb353-8"><a href="exercise-6-basic-programming-in-r.html#cb353-8" aria-hidden="true" tabindex="-1"></a>            <span class="fu">download.file</span>(fileurl, <span class="at">destfile =</span> <span class="fu">paste</span>(<span class="st">&quot;./data_download/&quot;</span>, filename,</span>
<span id="cb353-9"><a href="exercise-6-basic-programming-in-r.html#cb353-9" aria-hidden="true" tabindex="-1"></a>                <span class="at">sep =</span> <span class="st">&quot;&quot;</span>))</span>
<span id="cb353-10"><a href="exercise-6-basic-programming-in-r.html#cb353-10" aria-hidden="true" tabindex="-1"></a>        }</span>
<span id="cb353-11"><a href="exercise-6-basic-programming-in-r.html#cb353-11" aria-hidden="true" tabindex="-1"></a>    }</span>
<span id="cb353-12"><a href="exercise-6-basic-programming-in-r.html#cb353-12" aria-hidden="true" tabindex="-1"></a>}</span></code></pre></div>
<ol start="2" style="list-style-type: lower-alpha">
<li>replace one or more of the nested <code>for</code> loop with <code>walk()</code> or <code>map</code> from <code>purrr</code> package.</li>
</ol>
<div class="sourceCode" id="cb354"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb354-1"><a href="exercise-6-basic-programming-in-r.html#cb354-1" aria-hidden="true" tabindex="-1"></a>.</span>
<span id="cb354-2"><a href="exercise-6-basic-programming-in-r.html#cb354-2" aria-hidden="true" tabindex="-1"></a>baseurl <span class="ot">&lt;-</span> <span class="st">&quot;https://lehd.ces.census.gov/data/lodes/LODES7/ct/od/&quot;</span></span>
<span id="cb354-3"><a href="exercise-6-basic-programming-in-r.html#cb354-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-4"><a href="exercise-6-basic-programming-in-r.html#cb354-4" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;main&quot;</span>, <span class="st">&quot;aux&quot;</span>)</span>
<span id="cb354-5"><a href="exercise-6-basic-programming-in-r.html#cb354-5" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb354-6"><a href="exercise-6-basic-programming-in-r.html#cb354-6" aria-hidden="true" tabindex="-1"></a>year <span class="ot">&lt;-</span> <span class="dv">2002</span><span class="sc">:</span><span class="dv">2019</span></span>
<span id="cb354-7"><a href="exercise-6-basic-programming-in-r.html#cb354-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-8"><a href="exercise-6-basic-programming-in-r.html#cb354-8" aria-hidden="true" tabindex="-1"></a>var_combos <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(m, i, year)</span>
<span id="cb354-9"><a href="exercise-6-basic-programming-in-r.html#cb354-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(var_combos) <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;m&quot;</span>, <span class="st">&quot;i&quot;</span>, <span class="st">&quot;year&quot;</span>)</span>
<span id="cb354-10"><a href="exercise-6-basic-programming-in-r.html#cb354-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-11"><a href="exercise-6-basic-programming-in-r.html#cb354-11" aria-hidden="true" tabindex="-1"></a>filenames <span class="ot">&lt;-</span> <span class="fu">paste</span>(<span class="st">&quot;ct_od_&quot;</span>, var_combos<span class="sc">$</span>m, <span class="st">&quot;_JT0&quot;</span>, var_combos<span class="sc">$</span>i, <span class="st">&quot;_&quot;</span>, var_combos<span class="sc">$</span>year,</span>
<span id="cb354-12"><a href="exercise-6-basic-programming-in-r.html#cb354-12" aria-hidden="true" tabindex="-1"></a>    <span class="st">&quot;.csv.gz&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb354-13"><a href="exercise-6-basic-programming-in-r.html#cb354-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb354-14"><a href="exercise-6-basic-programming-in-r.html#cb354-14" aria-hidden="true" tabindex="-1"></a><span class="fu">walk</span>(filenames, <span class="cf">function</span>(x) {</span>
<span id="cb354-15"><a href="exercise-6-basic-programming-in-r.html#cb354-15" aria-hidden="true" tabindex="-1"></a>    <span class="fu">download.file</span>(<span class="fu">paste</span>(baseurl, x, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>), <span class="at">destfile =</span> <span class="fu">paste</span>(<span class="st">&quot;./data_downloads/&quot;</span>,</span>
<span id="cb354-16"><a href="exercise-6-basic-programming-in-r.html#cb354-16" aria-hidden="true" tabindex="-1"></a>        x))</span>
<span id="cb354-17"><a href="exercise-6-basic-programming-in-r.html#cb354-17" aria-hidden="true" tabindex="-1"></a>})</span></code></pre></div>
<ol start="3" style="list-style-type: lower-alpha">
<li>Pick any 5 states in the US and using common two letter abbreviations, download all the files. Try different combinations of states and see if your assumptions about the file names are generalisable (Hint: Use MA)</li>
</ol>
<div class="sourceCode" id="cb355"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb355-1"><a href="exercise-6-basic-programming-in-r.html#cb355-1" aria-hidden="true" tabindex="-1"></a>baseurl <span class="ot">&lt;-</span> <span class="st">&quot;https://lehd.ces.census.gov/data/lodes/LODES7/&quot;</span></span>
<span id="cb355-2"><a href="exercise-6-basic-programming-in-r.html#cb355-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-3"><a href="exercise-6-basic-programming-in-r.html#cb355-3" aria-hidden="true" tabindex="-1"></a>st <span class="sc">&lt;</span> <span class="fu">tolower</span>(state.abb[<span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>])</span>
<span id="cb355-4"><a href="exercise-6-basic-programming-in-r.html#cb355-4" aria-hidden="true" tabindex="-1"></a>m <span class="ot">&lt;-</span> <span class="fu">c</span>(<span class="st">&quot;main&quot;</span>, <span class="st">&quot;aux&quot;</span>)</span>
<span id="cb355-5"><a href="exercise-6-basic-programming-in-r.html#cb355-5" aria-hidden="true" tabindex="-1"></a>i <span class="ot">&lt;-</span> <span class="dv">0</span><span class="sc">:</span><span class="dv">5</span></span>
<span id="cb355-6"><a href="exercise-6-basic-programming-in-r.html#cb355-6" aria-hidden="true" tabindex="-1"></a>year <span class="ot">&lt;-</span> <span class="dv">2002</span><span class="sc">:</span><span class="dv">2019</span></span>
<span id="cb355-7"><a href="exercise-6-basic-programming-in-r.html#cb355-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-8"><a href="exercise-6-basic-programming-in-r.html#cb355-8" aria-hidden="true" tabindex="-1"></a>var_combos <span class="ot">&lt;-</span> <span class="fu">expand.grid</span>(m, i, year)</span>
<span id="cb355-9"><a href="exercise-6-basic-programming-in-r.html#cb355-9" aria-hidden="true" tabindex="-1"></a><span class="fu">names</span>(var_combos) <span class="ot">&lt;-</span> <span class="fu">c</span>(, <span class="st">&quot;m&quot;</span>, <span class="st">&quot;i&quot;</span>, <span class="st">&quot;year&quot;</span>)</span>
<span id="cb355-10"><a href="exercise-6-basic-programming-in-r.html#cb355-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-11"><a href="exercise-6-basic-programming-in-r.html#cb355-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-12"><a href="exercise-6-basic-programming-in-r.html#cb355-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> (state <span class="cf">in</span> st) {</span>
<span id="cb355-13"><a href="exercise-6-basic-programming-in-r.html#cb355-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Why am I using a loop here instead of expanding the grid by combinations</span></span>
<span id="cb355-14"><a href="exercise-6-basic-programming-in-r.html#cb355-14" aria-hidden="true" tabindex="-1"></a>    <span class="co"># that include state and construct the file name? (Hint: baseurl needs to</span></span>
<span id="cb355-15"><a href="exercise-6-basic-programming-in-r.html#cb355-15" aria-hidden="true" tabindex="-1"></a>    <span class="co"># be changed as well)</span></span>
<span id="cb355-16"><a href="exercise-6-basic-programming-in-r.html#cb355-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-17"><a href="exercise-6-basic-programming-in-r.html#cb355-17" aria-hidden="true" tabindex="-1"></a>    baseurl_st <span class="ot">&lt;-</span> <span class="fu">paste</span>(baseurl, state, <span class="st">&quot;/od/&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb355-18"><a href="exercise-6-basic-programming-in-r.html#cb355-18" aria-hidden="true" tabindex="-1"></a>    filenames <span class="ot">&lt;-</span> <span class="fu">paste</span>(state, <span class="st">&quot;_od_&quot;</span>, var_combos<span class="sc">$</span>m, <span class="st">&quot;_JT0&quot;</span>, var_combos<span class="sc">$</span>i, <span class="st">&quot;_&quot;</span>, var_combos<span class="sc">$</span>year,</span>
<span id="cb355-19"><a href="exercise-6-basic-programming-in-r.html#cb355-19" aria-hidden="true" tabindex="-1"></a>        <span class="st">&quot;.csv.gz&quot;</span>, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>)</span>
<span id="cb355-20"><a href="exercise-6-basic-programming-in-r.html#cb355-20" aria-hidden="true" tabindex="-1"></a>    <span class="fu">walk</span>(filenames, <span class="cf">function</span>(x) {</span>
<span id="cb355-21"><a href="exercise-6-basic-programming-in-r.html#cb355-21" aria-hidden="true" tabindex="-1"></a>        <span class="fu">download.file</span>(<span class="fu">paste</span>(baseurl_st, x, <span class="at">sep =</span> <span class="st">&quot;&quot;</span>), <span class="at">destfile =</span> <span class="fu">paste</span>(<span class="st">&quot;./data_downloads/&quot;</span>,</span>
<span id="cb355-22"><a href="exercise-6-basic-programming-in-r.html#cb355-22" aria-hidden="true" tabindex="-1"></a>            x))</span>
<span id="cb355-23"><a href="exercise-6-basic-programming-in-r.html#cb355-23" aria-hidden="true" tabindex="-1"></a>    })</span>
<span id="cb355-24"><a href="exercise-6-basic-programming-in-r.html#cb355-24" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb355-25"><a href="exercise-6-basic-programming-in-r.html#cb355-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb355-26"><a href="exercise-6-basic-programming-in-r.html#cb355-26" aria-hidden="true" tabindex="-1"></a><span class="co"># This fails for MA and few other states, why?</span></span></code></pre></div>
<p>End of Exercise 6</p>

<p> </p>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="exercise-5-graphics-with-ggplot-1.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exercise-6-basic-programming-in-r-1.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/nkaza/intro2Rbook/edit/master/exercises/exercise_6_solution.Rmd",
"text": "Suggest an edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": [["Rbook.pdf", "Download PDF version"]],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
},
"highlight": "tango"
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
